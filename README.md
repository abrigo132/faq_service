# faq_service

FAQ Service API
Сервис вопросов и ответов с REST API, построенный на FastAPI, SQLAlchemy и PostgreSQL.

Функциональность
✅ Создание, получение и удаление вопросов

✅ Добавление ответов к вопросам

✅ Получение вопроса со всеми ответами

✅ Валидация данных и обработка ошибок

✅ Логирование операций

✅ Автоматические миграции базы данных при запуске

✅ Контейнеризация с Docker Compose

✅ Полное тестовое покрытие

Технологии
Python 3.12 - язык программирования

FastAPI - современный веб-фреймворк

SQLAlchemy 2.0 - ORM с асинхронной поддержкой

PostgreSQL - реляционная база данных

Alembic - система миграций базы данных

Poetry - управление зависимостями

Pydantic - валидация данных и настройки

Pytest - фреймворк для тестирования

Docker & Docker Compose - контейнеризация приложения

Быстрый запуск
Требования
Docker версии 20.10+

Docker Compose версии 2.4+

Запуск приложения
Клонируйте репозиторий:
```shell
   git clone https://github.com/abrigo132/faq_service.git
   cd faq_service/src
```
Создайте файл окружения:
.env
APP_CONFIG__DB__URL=<строка подключения к PostgreSQL>

Запустите приложение (автоматически применит миграции):
```shell
    docker compose up --build
```
Приложение будет доступно по адресу: http://localhost:8000

Документация API (Swagger): http://localhost:8000/docs

Примеры запросов
Создание вопроса
```bash
curl -X POST "http://localhost:8000/questions/" \
  -H "Content-Type: application/json" \
  -d '{"text": "Как работает Docker?"}'
```
Создание ответа
```bash
curl -X POST "http://localhost:8000/questions/1/answers/" \
  -H "Content-Type: application/json" \
  -d '{"text": "Docker - это платформа для контейнеризации приложений", "user_id": "user-123"}'
 ```
Получение вопроса с ответами
```bash
curl -X GET "http://localhost:8000/questions/1/"
```

Переменные окружения
Все настройки приложения управляются через переменные окружения:

Переменная	Обязательная	По умолчанию	Описание
DATABASE_URL	Да	-	URL для подключения к PostgreSQL

Логирование
Приложение использует структурированное логирование с настраиваемым уровнем детализации. Логи выводятся в консоль в формате:

```text
[2023-10-15 14:30:25.123] module:line LEVEL - message
Доступные уровни логирования: DEBUG, INFO, WARNING, ERROR, CRITICAL
```

Мониторинг и диагностика
Приложение предоставляет следующие эндпоинты для мониторинга:

/docs - Интерактивная документация API (Swagger)